
<app-header-page page="Modification mot de passe"></app-header-page>

<div class="container-sm col-6">

<mat-spinner style="margin-bottom: 300px;" class="container text-center" *ngIf="isLoading"></mat-spinner>
<div *ngIf="!isLoading">
<form [formGroup]="updatePasswordForm" (ngSubmit)="onUpdatePassword()">
  <div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}}</div>
  <div class="alert alert-success" *ngIf="message"> {{message}}, Veuillez vous connecter avec vos identifiants</div>
<div>Veuillez saisir votre nouveau mot de passe</div>
  <div class="row ">
    <div class="col-md-6 ">
      <label class="h6">Password : <span *ngIf="controlForm.password.errors">
      *  </span></label>
      <div class="input-group mb-3 ">
        <input [type]="fieldTextType1 ?'text':'password'" class="form-control" formControlName="password">
        <div class="input-group-prepend">
          <button type="button"    (click)="toogleFieldText1()" class="input-group-text theme-btn--dark1 btn--md show-password">show</button>
           </div>
        <div *ngIf="controlForm.password.touched && controlForm.password.errors" class="alert alert-danger">
          <div *ngIf="controlForm.password.errors.required">Ce champ est requis</div>
          <div *ngIf="controlForm.password.errors.pattern">6 lettres minimun</div>
        </div>
      </div>
</div>
<div class="col-md-6 ">
  <label class="h6">Confirmation Password : <span *ngIf="controlForm.confirmPassword.errors">
   *  </span></label>
   <div class="input-group mb-3 ">
    <input [type]="fieldTextType2 ?'text':'password'" class="form-control" formControlName="confirmPassword">
    <div class="input-group-prepend">
      <button type="button"    (click)="toogleFieldText2()" class="input-group-text theme-btn--dark1 btn--md show-password">show</button>
       </div>
     <div *ngIf="controlForm.confirmPassword.touched && controlForm.confirmPassword.errors" class="alert alert-danger">
       <span *ngIf="controlForm.confirmPassword.errors.required">Ce champ est requis</span>
       <span *ngIf="controlForm.confirmPassword.errors.mustMatch">Attention, la confirmation Password ne correspond pas au password</span>
     </div>

   </div>
</div>

  </div>

  <button type="submit" class="btn btn-primary" [disabled]="updatePasswordForm.invalid">Modifier mon Password</button>
  </form>
</div>

<div class="col-12">
  <div class="border-top mt-4">
      <a routerLink="/signin" class="no-account h6">J'ai déjà un compte, je me connecte ici</a>
  </div>
</div>
</div>
